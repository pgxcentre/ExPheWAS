{% extends "index.html" %}
{% block body %}
    <h3>Gene {{ name }}</h3>
    <div id="app">

      <div class="row">
        <div class="col-5">
        <div class="card geneDescription">
          <div class="card-body">
            <dl class="row">
              <dt class="col-5">Location:</dt>
              <dd class="col-7">chr{{ chrom }}:{{ '{:,d}'.format(start) }}-{{ '{:,d}'.format(end) }}</dd>

              <dt class="col-5">Variance explained:</dt>
              <dd class="col-7">{{ variance_pct }}%</dd>

              <dt class="col-5">Nb components:</dt>
              <dd class="col-7">{{ n_components }}</dd>

              <dt class="col-5">Ensembl:</dt>
              <dd class="col-7"><a target="_blank" href="http://grch37.ensembl.org/Homo_sapiens/Gene/Summary?g={{ ensembl_id }}">{{ ensembl_id }}</a></dd>

              <dt class="col-5">Uniprot:</dt>
              <dd class="col-7">{% for id in uniprot_ids%}<a target="_blank" href="https://www.uniprot.org/uniprot/{{ id }}">{{ id }}</a>{{ ", " if not loop.last }}{% endfor %}</dd>
            </dl>
          </div>
        </div>
        </div>
      </div>

      <div class="geneResults continuousVariable">
        <h4>Continuous variables</h4>
        <table id="geneResultsContinuous" class="display" style="width:100%">
          <thead>
            <tr>
              <th class="dt-head-left">Outcome Id</th>
              <th class="dt-head-left">Description</th>
              <th class="dt-head-right">P-Value</th>
              <th class="dt-head-right">Q-Value</th>
              <th class="dt-head-right">Bonferroni p</th>
              <th class="dt-head-right">Sum of Square</th>
            </tr>
          </thead>
        </table>
      </div>

      <div class="geneResults cvEndpoints">
        <h4>Cardiovascular Endpoints</h4>
        <table id="geneResultsCVEndpoints" class="display" style="width:100%">
          <thead>
            <tr>
              <th class="dt-head-left">Outcome Id</th>
              <th class="dt-head-left">Description</th>
              <th class="dt-head-right">P-Value</th>
              <th class="dt-head-right">Q-Value</th>
              <th class="dt-head-right">Bonferroni p</th>
              <th class="dt-head-right">Deviance</th>
            </tr>
          </thead>
        </table>
      </div>

      <div class="geneResults selfReported">
        <h4>Self Reported</h4>
        <table id="geneResultsSelfReported" class="display" style="width:100%">
          <thead>
            <tr>
              <th class="dt-head-left">Outcome Id</th>
              <th class="dt-head-left">Description</th>
              <th class="dt-head-right">P-Value</th>
              <th class="dt-head-right">Q-Value</th>
              <th class="dt-head-right">Bonferroni p</th>
              <th class="dt-head-right">Deviance</th>
            </tr>
          </thead>
        </table>
      </div>

      <div class="geneResults icd10Block">
        <h4>ICD10 Blocks</h4>
        <table id="geneResultsICD10Block" class="display" style="width:100%">
          <thead>
            <tr>
              <th class="dt-head-left">Outcome Id</th>
              <th class="dt-head-left">Description</th>
              <th class="dt-head-right">P-Value</th>
              <th class="dt-head-right">Q-Value</th>
              <th class="dt-head-right">Bonferroni p</th>
              <th class="dt-head-right">Deviance</th>
            </tr>
          </thead>
        </table>
      </div>

      <div class="geneResults icd103Char">
        <h4>ICD10 (3 characters)</h4>
        <table id="geneResultsICD103Char" class="display" style="width:100%">
          <thead>
            <tr>
              <th class="dt-head-left">Outcome Id</th>
              <th class="dt-head-left">Description</th>
              <th class="dt-head-right">P-Value</th>
              <th class="dt-head-right">Q-Value</th>
              <th class="dt-head-right">Bonferroni p</th>
              <th class="dt-head-right">Deviance</th>
            </tr>
          </thead>
        </table>
      </div>

    </div>
{% endblock %}

{% block other_script %}
    <script>
      window.pages.mainGeneResults("{{ ensembl_id }}");
    </script>
{% endblock %}
