{% extends "index.html" %}
{% block body %}
    <h1>Gene {{ name }} (<a href="http://grch37.ensembl.org/Homo_sapiens/Gene/Summary?g={{ ensembl_id }}">{{ ensembl_id }}</a>)</h1>
    <div id="app">

      <div class="geneDescription">
        <dl>
          <dt>Location:</dt>
          <dd>chr{{ chrom }}:{{ '{:,d}'.format(start) }}-{{ '{:,d}'.format(end) }}</dd>
          <dt>Variance explained:</dt>
          <dd>{{ variance_pct }}%</dd>
          <dt>Nb components</dt>
          <dd>{{ n_components }}</dd>
          <dt>Uniprot:</dt>
          <dd>{% for id in uniprot_ids%}<a href="https://www.uniprot.org/uniprot/{{ id }}">{{ id }}</a>{{ ", " if not loop.last }}{% endfor %}</dd>
        </dl>
      </div>

      <div class="geneResults continuousVariable">
        <h2>Continuous variables</h2>
        <table id="geneResultsContinuous" class="display" style="width:100%">
          <thead>
            <tr>
              <th>Outcome Id</th>
              <th>Description</th>
              <th>P-Value</th>
              <th>Bonferroni p</th>
              <th>Sum of Square</th>
            </tr>
          </thead>
        </table>
      </div>

      <div class="geneResults cvEndpoints">
        <h2>Cardiovascular Endpoints</h2>
        <table id="geneResultsCVEndpoints" class="display" style="width:100%">
          <thead>
            <tr>
              <th>Outcome Id</th>
              <th>Description</th>
              <th>P-Value</th>
              <th>Bonferroni p</th>
              <th>Deviance</th>
            </tr>
          </thead>
        </table>
      </div>

      <div class="geneResults selfReported">
        <h2>Self Reported</h2>
        <table id="geneResultsSelfReported" class="display" style="width:100%">
          <thead>
            <tr>
              <th>Outcome Id</th>
              <th>Description</th>
              <th>P-Value</th>
              <th>Bonferroni p</th>
              <th>Deviance</th>
            </tr>
          </thead>
        </table>
      </div>

      <div class="geneResults icd10Block">
        <h2>ICD10 Blocks</h2>
        <table id="geneResultsICD10Block" class="display" style="width:100%">
          <thead>
            <tr>
              <th>Outcome Id</th>
              <th>Description</th>
              <th>P-Value</th>
              <th>Bonferroni p</th>
              <th>Deviance</th>
            </tr>
          </thead>
        </table>
      </div>

      <div class="geneResults icd103Char">
        <h2>ICD10 (3 characters)</h2>
        <table id="geneResultsICD103Char" class="display" style="width:100%">
          <thead>
            <tr>
              <th>Outcome Id</th>
              <th>Description</th>
              <th>P-Value</th>
              <th>Bonferroni p</th>
              <th>Deviance</th>
            </tr>
          </thead>
        </table>
      </div>

    </div>
{% endblock %}

{% block other_script %}
    <script>
      window.pages.mainGeneResults("{{ ensembl_id }}");
    </script>
{% endblock %}
